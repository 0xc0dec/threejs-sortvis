<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

	<script src="three.min.js"></script>
</head>

<body style="margin: 0">

<script id="vs-basic" type="x-shader/x-vertex">
	varying vec2 vUv;
	void main()
	{
		vUv = uv;
		gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	}
</script>

<script id="fs-box" type="x-shader/x-vertex">
	uniform float a;
	uniform vec3 primaryColor;
	uniform vec3 lineColor;
	uniform float lineWidth;
	uniform float frequency;
	uniform float scaleU;
	uniform float scaleV;
	uniform float falloff;
	uniform float offsetU;
	uniform float offsetV;

	varying vec2 vUv;
	
	float round(float f)
	{
		return floor(f + 0.5);
	}

	void main()
	{
		float ut = (vUv.x + offsetU) * scaleU / frequency;
		float vt = (vUv.y + offsetV) * scaleV / frequency;
		float multU = smoothstep(0.0, falloff, lineWidth - abs(round(ut) - ut));
		float multV = smoothstep(0.0, falloff, lineWidth - abs(round(vt) - vt));
		float mult = max(multU, multV);
		vec3 color = (1.0 - mult) * primaryColor + mult * lineColor;
		gl_FragColor = vec4(color, a);
	}

</script>
	
<div id="main-canvas-container" style="width: 100%; height: 100%"></div>
<script src="script.js"></script>

</body>

</html>